#----------------------------------------------------Оборонные фабрикаторы---------------------------------------
#-------------------------------Общие рецепты-------------------------
- type: latheRecipe
  id: DefFoodBowlBig
  result: FoodBowlBig
  materials:
    Steel: 10

- type: latheRecipe
  id: DefBeaker
  result: Beaker
  completetime: 2
  materials:
    Glass: 200

- type: entity
  id: DefCellRechargerCircuitboard
  parent: CellRechargerCircuitboard
  components:
    - type: MachineBoard
      prototype: PowerCellRecharger
      stackRequirements:
        Cable: 20

- type: latheRecipe
  id: DefDefCellRechargerCircuitboard
  result: DefCellRechargerCircuitboard
  completetime: 10
  materials:
    Steel: 1500
    Plastic: 1500

- type: latheRecipe
  id: DefClothingEyesHudMedical
  result: ClothingEyesHudMedical
  completetime: 5
  materials:
    Steel: 200
    Plastic: 200
    Glass: 200
#-----------------------------------------Умпорский----------------------------------------
#-------------------------------Рецепты-------------------------
#-------------------Патроны-------------
- type: latheRecipe
  id: DefUmporCartridgeHeavyRifle
  result: UmporCartridgeHeavyRifle
  category: Ammo
  completetime: 0.5
  materials:
    PlumbumMaterial: 4

- type: latheRecipe
  id: DefUmporCartridgeLightRifle
  result: UmporCartridgeLightRifle
  category: Ammo
  completetime: 0.4
  materials:
    PlumbumMaterial: 3

- type: latheRecipe
  id: DefUmporCartridgePistol
  result: UmporCartridgePistol
  category: Ammo
  completetime: 0.3
  materials:
    PlumbumMaterial: 2

- type: latheRecipe
  id: DefUmporShellShotgun
  result: UmporShellShotgun
  category: Ammo
  completetime: 0.4
  materials:
    PlumbumMaterial: 2
    Plastic: 2

- type: latheRecipe
  id: DefUmporRocketExp
  result: UmporRocketExp
  category: Ammo
  completetime: 0.8
  materials:
    PlumbumMaterial: 100
    Plastic: 100
    PlastidMaterial: 60

- type: latheRecipe
  id: DefUmporRocketFrag
  result: UmporRocketFrag
  category: Ammo
  completetime: 0.8
  materials:
    PlumbumMaterial: 150
    Plastic: 100
    PlastidMaterial: 50

- type: latheRecipe
  id: DefUmporRocketFar
  result: UmporRocketFar
  category: Ammo
  completetime: 0.8
  materials:
    PlumbumMaterial: 100
    Plastic: 150
    PlastidMaterial: 40
#-------------------Магазины оружия-------------
- type: latheRecipe
  id: DefUmporMagazineHeavyRifle
  result: UmporMagazineHeavyRifle
  category: Ammo
  completetime: 5
  materials:
    PlumbumMaterial: 55
    Plastic: 15

- type: latheRecipe
  id: DefUmporMagazineLightRifle
  result: UmporMagazineLightRifle
  category: Ammo
  completetime: 4
  materials:
    PlumbumMaterial: 80
    Plastic: 20

- type: latheRecipe
  id: DefUmporMagazinePistol
  result: UmporMagazinePistol
  category: Ammo
  completetime: 3
  materials:
    PlumbumMaterial: 20
    Plastic: 15
#-------------------Коробки патронов-------------
- type: latheRecipe
  id: DefUmporBoxHeavyRifle
  result: UmporBoxHeavyRifle
  category: Ammo
  completetime: 13
  materials:
    PlumbumMaterial: 130
    Plastic: 50

- type: latheRecipe
  id: DefUmporBoxLightRifle
  result: UmporBoxLightRifle
  category: Ammo
  completetime: 10
  materials:
    PlumbumMaterial: 120
    Plastic: 50

- type: latheRecipe
  id: DefUmporBoxPistol
  result: UmporBoxPistol
  category: Ammo
  completetime: 8
  materials:
    PlumbumMaterial: 70
    Plastic: 35

- type: latheRecipe
  id: DefUmporBoxShotgan
  result: UmporBoxShotgan
  category: Ammo
  completetime: 13
  materials:
    PlumbumMaterial: 35
    Plastic: 70
#-------------------------------Сам Фабрикатор------------------
- type: entity
  id: DefUmporTechFab
  parent: BaseLathe
  name: Умпорский оборонный фабрикатор
  suffix: Умпорский, Оборона
  description: Небольшая промышленная машина, способная производить боеприпасы, магазины и коробки с патронами умпорского образца.
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/techfab.rsi
    layers:
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: umpor
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: SecurityTechFabCircuitboard
  - type: Lathe
    idleState: icon
    runningState: icon
    staticPacks:
    - DefPackUmpor
  - type: MaterialStorage
    whitelist:
      tags:
        - Sheet
        - RawMaterial
        - Ingot
        - Plastid
  - type: Anchorable
    flags: Anchorable
#-----------------------------------------Миртанийский----------------------------------------
#-------------------------------Рецепты-------------------------
#-------------------Патроны-------------
- type: latheRecipe
  id: DefMirtCartridgeHeavy
  result: MirtCartridgeHeavy
  category: Ammo
  completetime: 0.5
  materials:
    Steel: 4

- type: latheRecipe
  id: DefMirtCartridgeLight
  result: MirtCartridgeLight
  category: Ammo
  completetime: 0.4
  materials:
    Steel: 2

- type: latheRecipe
  id: DefMirtCartridgePistol
  result: MirtCartridgePistol
  category: Ammo
  completetime: 0.3
  materials:
    Steel: 3
#-------------------Магазины оружия-------------
- type: latheRecipe
  id: DefMirtMagazineRifle
  result: MirtMagazineRifle
  category: Ammo
  completetime: 5
  materials:
    Steel: 60
    Plastic: 20

- type: latheRecipe
  id: DefMirtMagazineSMG
  result: MirtMagazineSMG
  category: Ammo
  completetime: 3
  materials:
    Steel: 40
    Plastic: 10

- type: latheRecipe
  id: DefMirtMagazineLMG
  result: MirtMagazineLMG
  category: Ammo
  completetime: 6
  materials:
    Steel: 280
    Plastic: 25

- type: latheRecipe
  id: DefMirtMagazinePistol
  result: MirtMagazinePistol
  category: Ammo
  completetime: 3
  materials:
    Steel: 25
    Plastic: 10

- type: latheRecipe
  id: DefMirtMagazineAutomat
  result: MirtMagazineAutomat
  category: Ammo
  completetime: 4
  materials:
    Steel: 115
    Plastic: 10

- type: latheRecipe
  id: DefMirtMagazineZenit
  result: MirtMagazineZenit
  category: Ammo
  completetime: 6
  materials:
    Steel: 250
    Plastic: 50
#-------------------Коробки патронов-------------
- type: latheRecipe
  id: DefMirtBoxHeavy
  result: MirtBoxHeavy
  category: Ammo
  completetime: 13
  materials:
    Steel: 140
    Plastic: 50

- type: latheRecipe
  id: DefMirtBoxLight
  result: MirtBoxLight
  category: Ammo
  completetime: 10
  materials:
    Steel: 100
    Plastic: 50

- type: latheRecipe
  id: DefMirtBoxPistol
  result: MirtBoxPistol
  category: Ammo
  completetime: 8
  materials:
    Steel: 110
    Plastic: 35
#-------------------Батареи-------------
- type: latheRecipe
  id: DefMirtPowerCell
  result: MirtPowerCell
  category: Ammo
  completetime: 4
  materials:
    Steel: 70
    Plastic: 15

- type: latheRecipe
  id: DefNoocPowerCellOne
  result: NoocPowerCellOne
  category: Ammo
  completetime: 5
  materials:
    Steel: 65
    Plastic: 20

- type: latheRecipe
  id: DefNoocPowerCellThree
  result: NoocPowerCellThree
  category: Ammo
  completetime: 4
  materials:
    Steel: 105
    Plastic: 20

- type: latheRecipe
  id: DefNoocPowerCellTwo
  result: NoocPowerCellTwo
  category: Ammo
  completetime: 3
  materials:
    Steel: 25
    Plastic: 20

- type: latheRecipe
  id: DefNoocPowerCellFour
  result: NoocPowerCellFour
  category: Ammo
  completetime: 4
  materials:
    Steel: 230
    Plastic: 30

- type: latheRecipe
  id: DefNoocPowerCellFive
  result: NoocPowerCellFive
  category: Ammo
  completetime: 5
  materials:
    Steel: 400
    Plastic: 40

- type: latheRecipe
  id: DefNoocPowerCellCold
  result: NoocPowerCellCold
  category: Ammo
  completetime: 5
  materials:
    Steel: 110
    Plastic: 30
#-------------------Плата зарядника-------------
- type: latheRecipe
  id: DefNoocCellRechargerCircuitboard
  result: NoocCellRechargerCircuitboard
  completetime: 10
  materials:
    Steel: 1500
    Plastic: 1500
#-------------------------------Сам Фабрикатор------------------
- type: entity
  id: DefMirtTechFab
  parent: BaseLathe
  name: Миртанийский оборонный фабрикатор
  suffix: Миртан, Оборона
  description: Небольшая промышленная машина, способная производить боеприпасы, магазины и коробки с патронами миртанийского образца, а так же батареи Ноократии.
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/techfab.rsi
    layers:
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: mirt
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: SecurityTechFabCircuitboard
  - type: Lathe
    idleState: icon
    runningState: icon
    staticPacks:
    - DefPackMirt
  - type: MaterialStorage
    whitelist:
      tags:
        - Sheet
        - RawMaterial
        - Ingot
  - type: Anchorable
    flags: Anchorable
#-----------------------------------------Конгломератский----------------------------------------
#-------------------------------Рецепты-------------------------
#-------------------Патроны-------------
- type: latheRecipe
  id: DefCDCCartridgePlasmaStd
  result: CDCCartridgePlasmaStd
  category: Ammo
  completetime: 0.3
  materials:
    Plasma: 4

- type: latheRecipe
  id: DefCDCCartridgePlasmaHotStd
  result: CDCCartridgePlasmaHotStd
  category: Ammo
  completetime: 0.4
  materials:
    Plasma: 8

- type: latheRecipe
  id: DefCDCCartridgePlasmaLigStd
  result: CDCCartridgePlasmaLigStd
  category: Ammo
  completetime: 0.3
  materials:
    Plasma: 2

- type: latheRecipe
  id: DefCDCCartridgePlasmaRif
  result: CDCCartridgePlasmaRif
  category: Ammo
  completetime: 0.5
  materials:
    Plasma: 2

- type: latheRecipe
  id: DefCDCCartridgePlasmaHotRif
  result: CDCCartridgePlasmaHotRif
  category: Ammo
  completetime: 0.6
  materials:
    Plasma: 3

- type: latheRecipe
  id: DefCDCCartridgePlasmaLigRif
  result: CDCCartridgePlasmaLigRif
  category: Ammo
  completetime: 0.4
  materials:
    Plasma: 1

- type: latheRecipe
  id: DefCDCCartridgePlasmaDefoc
  result: CDCCartridgePlasmaDefoc
  category: Ammo
  completetime: 0.4
  materials:
    Plasma: 3

- type: latheRecipe
  id: DefCDCCartridgePlasmaHotDefoc
  result: CDCCartridgePlasmaHotDefoc
  category: Ammo
  completetime: 0.5
  materials:
    Plasma: 6

- type: latheRecipe
  id: DefCDCCartridgePlasmaLigDefoc
  result: CDCCartridgePlasmaLigDefoc
  category: Ammo
  completetime: 0.45
  materials:
    Plasma: 2

- type: latheRecipe
  id: DefCDCBeakerPlasma
  result: CDCBeakerPlasma
  category: Ammo
  completetime: 0.5
  materials:
    Glass: 300

- type: latheRecipe
  id: DefCDCBeakerPlasmaStd
  result: CDCBeakerPlasmaStd
  category: Ammo
  completetime: 0.5
  materials:
    Glass: 300
    Plasma: 100

- type: latheRecipe
  id: DefCDCBeakerPlasmaHot
  result: CDCBeakerPlasmaHot
  category: Ammo
  completetime: 0.5
  materials:
    Glass: 300
    Plasma: 200

- type: latheRecipe
  id: DefCDCBeakerPlasmaCold
  result: CDCBeakerPlasmaCold
  category: Ammo
  completetime: 0.5
  materials:
    Glass: 300
    Plasma: 50
#-------------------Магазины оружия-------------
- type: latheRecipe
  id: DefCDCMagazinePistolStd
  result: CDCMagazinePistolStd
  category: Ammo
  completetime: 3
  materials:
    Steel: 20
    Plasma: 20

- type: latheRecipe
  id: DefCDCMagazinePistolHot
  result: CDCMagazinePistolHot
  category: Ammo
  completetime: 4
  materials:
    Steel: 30
    Plasma: 40

- type: latheRecipe
  id: DefCDCMagazinePistolLig
  result: CDCMagazinePistolLig
  category: Ammo
  completetime: 3
  materials:
    Steel: 20
    Plasma: 15

- type: latheRecipe
  id: DefCDCMagazineAutomatStd
  result: CDCMagazineAutomatStd
  category: Ammo
  completetime: 4
  materials:
    Steel: 30
    Plasma: 40

- type: latheRecipe
  id: DefCDCMagazineAutomatHot
  result: CDCMagazineAutomatHot
  category: Ammo
  completetime: 5
  materials:
    Steel: 40
    Plasma: 80

- type: latheRecipe
  id: DefCDCMagazineAutomatLig
  result: CDCMagazineAutomatLig
  category: Ammo
  completetime: 4
  materials:
    Steel: 30
    Plasma: 30

- type: latheRecipe
  id: DefCDCMagazineRifleStd
  result: CDCMagazineRifleStd
  category: Ammo
  completetime: 5
  materials:
    Steel: 30
    Plasma: 35

- type: latheRecipe
  id: DefCDCMagazineRifleHot
  result: CDCMagazineRifleHot
  category: Ammo
  completetime: 6
  materials:
    Steel: 40
    Plasma: 70

- type: latheRecipe
  id: DefCDCMagazineRifleLig
  result: CDCMagazineRifleLig
  category: Ammo
  completetime: 5
  materials:
    Steel: 30
    Plasma: 25

- type: latheRecipe
  id: DefCDCMagazineDefocStd
  result: CDCMagazineDefocStd
  category: Ammo
  completetime: 4
  materials:
    Steel: 25
    Plasma: 45

- type: latheRecipe
  id: DefCDCMagazineDefocHot
  result: CDCMagazineDefocHot
  category: Ammo
  completetime: 5
  materials:
    Steel: 35
    Plasma: 90

- type: latheRecipe
  id: DefCDCMagazineDefocLig
  result: CDCMagazineDefocLig
  category: Ammo
  completetime: 4
  materials:
    Steel: 20
    Plasma: 40

- type: latheRecipe
  id: DefCDCMagazineFireMini
  result: CDCMagazineFireMini
  category: Ammo
  completetime: 0.4
  materials:
    Glass: 300
    Plasma: 50
#-------------------Коробки патронов-------------
- type: latheRecipe
  id: DefCDCBoxCartridgePlasmaRif
  result: CDCBoxCartridgePlasmaRif
  category: Ammo
  completetime: 15
  materials:
    Steel: 50
    Plasma: 125

- type: latheRecipe
  id: DefCDCBoxCartridgePlasmaHotRif
  result: CDCBoxCartridgePlasmaHotRif
  category: Ammo
  completetime: 17
  materials:
    Steel: 50
    Plasma: 250

- type: latheRecipe
  id: DefCDCBoxCartridgePlasmaLigRif
  result: CDCBoxCartridgePlasmaLigRif
  category: Ammo
  completetime: 13
  materials:
    Steel: 50
    Plasma: 70

- type: latheRecipe
  id: DefCDCBoxCartridgePlasmaStd
  result: CDCBoxCartridgePlasmaStd
  category: Ammo
  completetime: 10
  materials:
    Steel: 35
    Plasma: 85

- type: latheRecipe
  id: DefCDCBoxCartridgePlasmaHotStd
  result: CDCBoxCartridgePlasmaHotStd
  category: Ammo
  completetime: 11
  materials:
    Steel: 35
    Plasma: 170

- type: latheRecipe
  id: DefCDCBoxCartridgePlasmaLigStd
  result: CDCBoxCartridgePlasmaLigStd
  category: Ammo
  completetime: 9
  materials:
    Steel: 35
    Plasma: 130

- type: latheRecipe
  id: DefCDCBoxCartridgePlasmaDefoc
  result: CDCBoxCartridgePlasmaDefoc
  category: Ammo
  completetime: 13
  materials:
    Steel: 40
    Plasma: 100

- type: latheRecipe
  id: DefCDCBoxCartridgePlasmaHotDefoc
  result: CDCBoxCartridgePlasmaHotDefoc
  category: Ammo
  completetime: 15
  materials:
    Steel: 40
    Plasma: 200

- type: latheRecipe
  id: DefCDCBoxCartridgePlasmaLigDefoc
  result: CDCBoxCartridgePlasmaLigDefoc
  category: Ammo
  completetime: 11
  materials:
    Steel: 40
    Plasma: 150
#-------------------------------Сам Фабрикатор------------------
- type: entity
  id: DefCDCTechFab
  parent: BaseLathe
  name: Конгломератский оборонный фабрикатор
  suffix: Конгломерат, Оборона
  description: Небольшая промышленная машина, способная производить боеприпасы, магазины и коробки с патронами образца Конгломерата.
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/techfab.rsi
    layers:
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: cdc
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: SecurityTechFabCircuitboard
  - type: Lathe
    idleState: icon
    runningState: icon
    staticPacks:
    - DefPackCDC
  - type: MaterialStorage
    whitelist:
      tags:
        - Sheet
        - RawMaterial
        - Ingot
  - type: Anchorable
    flags: Anchorable
#-----------------------------------------Советский----------------------------------------
#-------------------------------Рецепты-------------------------
#---------------------Патроны-----------------
- type: latheRecipe
  id: DefPetrCartridgeRifle
  result: PetrCartridgeRifle
  category: Ammo
  completetime: 0.5
  materials:
    PlumbumMaterial: 4

- type: latheRecipe
  id: DefPetrCartridgePistol
  result: PetrCartridgePistol
  category: Ammo
  completetime: 0.5
  materials:
    PlumbumMaterial: 2

- type: latheRecipe
  id: DefPetrCartridgeRevolver
  result: PetrCartridgeRevolver
  category: Ammo
  completetime: 0.5
  materials:
    PlumbumMaterial: 3

- type: latheRecipe
  id: DefShellShotgun
  result: ShellShotgun
  category: Ammo
  completetime: 0.5
  materials:
    PlumbumMaterial: 3
    Plastic: 2
#---------------------Магазины и батареи-----------------
- type: latheRecipe
  id: DefPetrMagazinePistol
  result: PetrMagazinePistol
  category: Ammo
  completetime: 3
  materials:
    PlumbumMaterial: 20

- type: latheRecipe
  id: DefPetrMagazineSMG
  result: PetrMagazineSMG
  category: Ammo
  completetime: 5
  materials:
    PlumbumMaterial: 55

- type: latheRecipe
  id: DefPetrSpeedLoader
  result: PetrSpeedLoader
  category: Ammo
  completetime: 2
  materials:
    PlumbumMaterial: 25

- type: latheRecipe
  id: DefPetrMagazineRifle
  result: PetrMagazineRifle
  category: Ammo
  completetime: 6
  materials:
    PlumbumMaterial: 140

- type: latheRecipe
  id: DefPetrMagazineRifleBox
  result: PetrMagazineRifleBox
  category: Ammo
  completetime: 10
  materials:
    PlumbumMaterial: 520

- type: latheRecipe
  id: DefPetrMagazineShotgun
  result: PetrMagazineShotgun
  category: Ammo
  completetime: 4
  materials:
    PlumbumMaterial: 30
    Plastic: 20

- type: latheRecipe
  id: DefUSSPBatteryPistCarab
  result: USSPBatteryPistCarab
  category: Ammo
  completetime: 4
  materials:
    PlumbumMaterial: 40
    Plasma: 20

- type: latheRecipe
  id: DefUSSPBatterySMG
  result: USSPBatterySMG
  category: Ammo
  completetime: 6
  materials:
    PlumbumMaterial: 100
    Plasma: 50

- type: latheRecipe
  id: DefUSSPBatteryRif
  result: USSPBatteryRif
  category: Ammo
  completetime: 6
  materials:
    PlumbumMaterial: 80
    Plasma: 40

- type: latheRecipe
  id: DefUSSPBatteryAuto
  result: USSPBatteryAuto
  category: Ammo
  completetime: 8
  materials:
    PlumbumMaterial: 200
    Plasma: 100

- type: latheRecipe
  id: DefUSSPBatteryLMG
  result: USSPBatteryLMG
  category: Ammo
  completetime: 12
  materials:
    PlumbumMaterial: 600
    Plasma: 300

- type: latheRecipe
  id: DefUSSPBatteryShot
  result: USSPBatteryShot
  category: Ammo
  completetime: 8
  materials:
    PlumbumMaterial: 150
    Plasma: 60

- type: latheRecipe
  id: DefUSSPBatterySing
  result: USSPBatterySing
  category: Ammo
  completetime: 8
  materials:
    PlumbumMaterial: 150
    Plasma: 200

- type: latheRecipe
  id: DefUSSPBatteryRadio
  result: USSPBatteryRadio
  category: Ammo
  completetime: 8
  materials:
    PlumbumMaterial: 150
    Plasma: 200
#---------------------Коробки с патронами-----------------
- type: latheRecipe
  id: DefPetrBoxRifle
  result: PetrBoxRifle
  category: Ammo
  completetime: 15
  materials:
    PlumbumMaterial: 210

- type: latheRecipe
  id: DefPetrBoxRevolver
  result: PetrBoxRevolver
  category: Ammo
  completetime: 15
  materials:
    PlumbumMaterial: 135

- type: latheRecipe
  id: DefPetrBoxPistol
  result: PetrBoxPistol
  category: Ammo
  completetime: 15
  materials:
    PlumbumMaterial: 165

- type: latheRecipe
  id: DefBoxLethalshot
  result: BoxLethalshot
  category: Ammo
  completetime: 8
  materials:
    PlumbumMaterial: 40
    Plasma: 25
#---------------------Оружейные детали-----------------
- type: latheRecipe
  id: DefUSSPWeaponPartSlb
  result: USSPWeaponPartSlb
  category: Ammo
  completetime: 40
  materials:
    Steel: 250
    PlumbumMaterial: 750
    Plasma: 500

- type: latheRecipe
  id: DefUSSPWeaponPartSib
  result: USSPWeaponPartSib
  category: Ammo
  completetime: 40
  materials:
    Steel: 750
    PlumbumMaterial: 250
    Plasma: 500

- type: latheRecipe
  id: DefUSSPWeaponPartCev
  result: USSPWeaponPartCev
  category: Ammo
  completetime: 40
  materials:
    Steel: 200
    Wood: 100

- type: latheRecipe
  id: DefUSSPWeaponPartStb
  result: USSPWeaponPartStb
  category: Ammo
  completetime: 40
  materials:
    Steel: 300
    PlumbumMaterial: 300
    Plasma: 100

- type: latheRecipe
  id: DefUSSPWeaponPartUsk
  result: USSPWeaponPartUsk
  category: Ammo
  completetime: 40
  materials:
    Steel: 200
    PlumbumMaterial: 100
    Plasma: 400

- type: latheRecipe
  id: DefUSSPWeaponPartKmp
  result: USSPWeaponPartKmp
  category: Ammo
  completetime: 40
  materials:
    Steel: 100
    PlumbumMaterial: 400
    Plasma: 200

- type: latheRecipe
  id: DefUSSPWeaponPartPrk
  result: USSPWeaponPartPrk
  category: Ammo
  completetime: 40
  materials:
    Steel: 100
    Wood: 200

- type: latheRecipe
  id: DefUSSPWirecutter
  result: USSPWirecutter
  completetime: 4
  materials:
    Steel: 150
    Wood: 100

- type: latheRecipe
  id: DefUSSPScrewdriver
  result: USSPScrewdriver
  completetime: 4
  materials:
    Steel: 100
    Wood: 100
#-------------------------------Сам Фабрикатор------------------
- type: entity
  id: DefUSSPTechFab
  parent: BaseLathe
  name: Советский оборонный фабрикатор
  suffix: СССП, Оборона
  description: Небольшая промышленная машина, способная производить боеприпасы, магазины и коробки с патронами образца Конгломерата.
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/techfab.rsi
    layers:
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: ussp
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: SecurityTechFabCircuitboard
  - type: Lathe
    idleState: icon
    runningState: icon
    staticPacks:
    - DefPackUSSP
  - type: MaterialStorage
    whitelist:
      tags:
        - Sheet
        - RawMaterial
        - Ingot
  - type: Anchorable
    flags: Anchorable
#-----------------------------------------Корпоративный----------------------------------------
#-------------------------------Рецепты-------------------------

#-------------------------------Сам Фабрикатор------------------

#-------------------------------------------------------------------Снайперская приблуда----------------------
#--------------------------------------------------Материалы патронов-----------------
- type: material
  id: UmporCartridgeHeavyRifle
  stackEntity: UmporCartridgeHeavyRifle
  name: умпорский винтовочный патрон
  icon: { sprite: Objects/Weapons/Guns/Ammunition/Casings/ammo_casing.rsi, state: base }
  price: 0.1

- type: material
  id: MirtCartridgeHeavy
  stackEntity: MirtCartridgeHeavy
  name: миртанийский винтовочный патрон
  icon: { sprite: Victoria/Mirt/Weapon/mirt_projectiles.rsi, state: tip }
  price: 0.2

- type: material
  id: CDCCartridgePlasmaRif
  stackEntity: CDCCartridgePlasmaRif
  name: конгломератский плазменный винтовочный патрон
  icon: { sprite: Victoria/CDC/Weapon/cdc_projectiles.rsi, state: base }
  price: 0.2

- type: material
  id: CDCCartridgePlasmaHotRif
  stackEntity: CDCCartridgePlasmaHotRif
  name: конгломератский горячеплазменный винтовочный патрон
  icon: { sprite: Victoria/CDC/Weapon/cdc_projectiles.rsi, state: base_hot }
  price: 0.3

- type: material
  id: CDCCartridgePlasmaLigRif
  stackEntity: CDCCartridgePlasmaLigRif
  name: конгломератский слабоплазменный винтовочный патрон
  icon: { sprite: Victoria/CDC/Weapon/cdc_projectiles.rsi, state: base_light }
  price: 0.1

- type: material
  id: NoocPowerCellOne
  stackEntity: NoocPowerCellOne
  name: ноократская батарея первого уровня
  icon: { sprite: Victoria/Noocraty/Weapon/nooc_magazine.rsi, state: rifle }
  price: 0.1

- type: material
  id: USSPBatteryPistCarab
  stackEntity: USSPBatteryPistCarab
  name: советская батарея
  icon: { sprite: Victoria/USSP/Weapon/ussp_magazine.rsi, state: pist_carab }
  price: 0.1

- type: material
  id: USSPBatteryRif
  stackEntity: USSPBatteryRif
  name: советская батеря
  icon: { sprite: Victoria/USSP/Weapon/ussp_magazine.rsi, state: rif }
  price: 0.1
#-------------------------------------------------------------------Снайперская приблуда----------------------
#--------------------------------------------------Материалы патронов-----------------
- type: material
  id: UmporSniperCartridgeHeavyRifle
  stackEntity: UmporSniperCartridgeHeavyRifle
  name: умпорский винтовочный патрон
  icon: { sprite: Objects/Weapons/Guns/Ammunition/Casings/ammo_casing.rsi, state: base }
  price: 0.1

- type: material
  id: MirtSniperCartridgeHeavy
  stackEntity: MirtSniperCartridgeHeavy
  name: миртанийский винтовочный патрон
  icon: { sprite: Victoria/Mirt/Weapon/mirt_projectiles.rsi, state: tip }
  price: 0.2

- type: material
  id: CDCSniperCartridgePlasmaRif
  stackEntity: CDCSniperCartridgePlasmaRif
  name: конгломератский плазменный винтовочный патрон
  icon: { sprite: Victoria/CDC/Weapon/cdc_projectiles.rsi, state: base }
  price: 0.2

- type: material
  id: CDCSniperCartridgePlasmaHotRif
  stackEntity: CDCSniperCartridgePlasmaHotRif
  name: конгломератский горячеплазменный винтовочный патрон
  icon: { sprite: Victoria/CDC/Weapon/cdc_projectiles.rsi, state: base_hot }
  price: 0.3

- type: material
  id: CDCSniperCartridgePlasmaLigRif
  stackEntity: CDCSniperCartridgePlasmaLigRif
  name: конгломератский слабоплазменный винтовочный патрон
  icon: { sprite: Victoria/CDC/Weapon/cdc_projectiles.rsi, state: base_light }
  price: 0.1
#--------------------------------------------------Снайперские патроны-----------------
#--------------------------------------пули--------------------------
- type: entity
  id: UmporSniperBulletHeavyRifle
  name: снайперская тяжёлая винтовочная пуля (.30 rifle)
  suffix: Умпорский, Снайпер
  parent: BaseBullet
  categories: [ HideSpawnMenu ]
  components:
  - type: Projectile
    damage:
      types:
        Piercing: 130

- type: entity
  id: MirtSniperBulletHeavy
  name: снайперский тяжёлый заряд (hhc)
  suffix: Миртан, Снайпер
  parent: BaseBullet
  categories: [ HideSpawnMenu ]
  components:
  - type: Projectile
    damage:
      types:
        Piercing: 150
  - type: Sprite
    sprite: Victoria/Mirt/Weapon/mirt_projectiles.rsi
    layers:
      - state: tip
  - type: StaminaDamageOnCollide
    damage: 7

- type: entity
  id: CDCSniperBulletPlasmaRif
  name: снайперский тяжёлый плазменый заряд (spr)
  suffix: Конгломерат, Снайпер
  parent: CDCBulletPlasmaStd
  categories: [ HideSpawnMenu ]
  components:
  - type: Projectile
    damage:
      types:
        Blunt: 20
        Heat: 110
        Shock: 30

- type: entity
  id: CDCSniperBulletPlasmaHotRif
  name: снайперский тяжёлый сверхплазменый заряд (hpr)
  suffix: Конгломерат, Снайпер
  parent: CDCBulletPlasmaHotStd
  categories: [ HideSpawnMenu ]
  components:
  - type: Projectile
    damage:
      types:
        Blunt: 20
        Heat: 130
        Shock: 30

- type: entity
  id: CDCSniperBulletPlasmaLigRif
  name: снайперский тяжёлый слабоплазменый заряд (lpr)
  suffix: Конгломерат, Снайпер
  parent: CDCBulletPlasmaLigStd
  categories: [ HideSpawnMenu ]
  components:
  - type: Projectile
    damage:
      types:
        Blunt: 10
        Heat: 80
        Shock: 10
#--------------------------------------картриджи------------------------
- type: Tag
  id: UmporSniperCartridgeHeavyRifle

- type: entity
  id: UmporSniperCartridgeHeavyRifle
  name: снайперская тяжёлая винтовочная пуля (.30 rifle)
  suffix: Умпорский
  parent: BaseCartridgeRifle
  components:
  - type: CartridgeAmmo
    proto: UmporSniperBulletHeavyRifle
  - type: Tag
    tags:
      - UmporSniperCartridgeHeavyRifle

- type: Tag
  id: MirtSniperCartridgeHeavy

- type: entity
  id: MirtSniperCartridgeHeavy
  name: снайперский тяжёлый заряд (hhc)
  suffix: Миртан
  parent: BaseCartridgeRifle
  components:
  - type: CartridgeAmmo
    proto: MirtSniperBulletHeavy
    deleteOnSpawn: true
  - type: Tag
    tags:
      - MirtSniperCartridgeHeavy

- type: Tag
  id: CDCSniperCartridgePlasmaRif

- type: entity
  id: CDCSniperCartridgePlasmaRif
  name: снайперский тяжёлый плазменый заряд (spr)
  suffix: Конгломерат
  parent: BaseCartridgeRifle
  components:
  - type: CartridgeAmmo
    proto: CDCSniperBulletPlasmaRif
    deleteOnSpawn: true
  - type: Tag
    tags:
      - CDCSniperCartridgePlasmaRif
  - type: Sprite
    sprite: Victoria/CDC/Weapon/cdc_projectiles.rsi
    layers:
    - state: base
      map: ["enum.AmmoVisualLayers.Base"]

- type: Tag
  id: CDCSniperCartridgePlasmaHotRif

- type: entity
  id: CDCSniperCartridgePlasmaHotRif
  name: снайперский тяжёлый сверхплазменый заряд (hpr)
  suffix: Конгломерат
  parent: BaseCartridgeRifle
  components:
  - type: CartridgeAmmo
    proto: CDCSniperBulletPlasmaHotRif
    deleteOnSpawn: true
  - type: Tag
    tags:
      - CDCSniperCartridgePlasmaHotRif
  - type: Sprite
    sprite: Victoria/CDC/Weapon/cdc_projectiles.rsi
    layers:
    - state: base_hot
      map: ["enum.AmmoVisualLayers.Base"]

- type: Tag
  id: CDCSniperCartridgePlasmaLigRif

- type: entity
  id: CDCSniperCartridgePlasmaLigRif
  name: снайперский тяжёлый слабоплазменый заряд (lpr)
  suffix: Конгломерат
  parent: BaseCartridgeRifle
  components:
  - type: CartridgeAmmo
    proto: CDCSniperBulletPlasmaLigRif
    deleteOnSpawn: true
  - type: Tag
    tags:
      - CDCSniperCartridgePlasmaLigRif
  - type: Sprite
    sprite: Victoria/CDC/Weapon/cdc_projectiles.rsi
    layers:
    - state: base_light
      map: ["enum.AmmoVisualLayers.Base"]
#--------------------------------------------------Рецепты патронов-----------------
- type: latheRecipe
  id: UmporSniperCartridgeHeavyRifle
  result: UmporSniperCartridgeHeavyRifle
  category: Ammo
  completetime: 40
  materials:
    UmporCartridgeHeavyRifle: 1

- type: latheRecipe
  id: MirtSniperCartridgeHeavy
  result: MirtSniperCartridgeHeavy
  category: Ammo
  completetime: 40
  materials:
    MirtCartridgeHeavy: 1

- type: latheRecipe
  id: CDCSniperCartridgePlasmaRif
  result: CDCSniperCartridgePlasmaRif
  category: Ammo
  completetime: 50
  materials:
    CDCCartridgePlasmaRif: 1

- type: latheRecipe
  id: CDCSniperCartridgePlasmaHotRif
  result: CDCSniperCartridgePlasmaHotRif
  category: Ammo
  completetime: 60
  materials:
    CDCCartridgePlasmaHotRif: 1

- type: latheRecipe
  id: CDCSniperCartridgePlasmaLigRif
  result: CDCSniperCartridgePlasmaLigRif
  category: Ammo
  completetime: 40
  materials:
    CDCCartridgePlasmaLigRif: 1

- type: latheRecipe
  id: NoocPowerCellOneSnipe
  result: NoocPowerCellOneSnipe
  category: Ammo
  completetime: 180
  materials:
    NoocPowerCellOne: 1

- type: latheRecipe
  id: USSPBatteryCarabSnipe
  result: USSPBatteryCarabSnipe
  category: Ammo
  completetime: 180
  materials:
    USSPBatteryPistCarab: 1

- type: latheRecipe
  id: USSPBatteryRifSnipe
  result: USSPBatteryRifSnipe
  category: Ammo
  completetime: 180
  materials:
    USSPBatteryRif: 1
#--------------------------------------------------Преобразователь патронов-----------------
- type: entity
  id: DefСartridgeСonverter
  parent: BaseItem
  name: Преобразоователь патронов
  suffix: Снайпер, Оборона
  description: Карманная машина, которая способна в автоматическом модифицировать винтовочные патроны, делая их более мощными. Но делает это весьма не быстро.
  components:
  - type: Appearance
  - type: ActivatableUI
    key: enum.LatheUiKey.Key
  - type: ActivatableUIRequiresPower
  - type: UserInterface
    interfaces:
      enum.LatheUiKey.Key:
        type: LatheBoundUserInterface
      enum.ResearchClientUiKey.Key:
        type: ResearchClientBoundUserInterface
  - type: Item
    size: Small
  - type: Sprite
    sprite: Victoria/DefenseMode/cartridge_converter.rsi
    layers:
    - state: icon
  - type: Lathe
    idleState: icon
    runningState: icon
    staticPacks:
    - DefPackCartridgeConverter
  - type: MaterialStorage
    whitelist:
      tags:
        - UmporCartridgeHeavyRifle
        - MirtCartridgeHeavy
        - CDCCartridgePlasmaRif
        - CDCCartridgePlasmaHotRif
        - CDCCartridgePlasmaLigRif
        - NoocPowerCellOne
        - USSPBatteryPistCarab
        - USSPBatteryRif
#--------------------------------------------------Тёплое пальто-----------------
#-------------------------------------Умпорский-------------------
- type: latheRecipe
  id: RecipeUmporCoat
  materials:
    SheepWoolCleanMaterial: 700
    ElastaneClothMaterial: 500
  result: UmporCoat
#-------------------------------------Миртан-------------------
- type: latheRecipe
  id: RecipeMirtCoat
  materials:
    SheepWoolCleanMaterial: 700
    ElastaneClothMaterial: 500
  result: MirtCoat
#-------------------------------------Конгломерат-------------------
- type: latheRecipe
  id: RecipeCDCCoat
  materials:
    SheepWoolCleanMaterial: 700
    ElastaneClothMaterial: 500
  result: CDCCoat
#-------------------------------------Корпораты-------------------

#-------------------------------------СССП-------------------
- type: latheRecipe
  id: RecipeUSSPCoat
  materials:
    SheepWoolCleanMaterial: 700
    ElastaneClothMaterial: 500
  result: USSPCoat
#-------------------------------------------------------------------Шагатели----------------------
#----------------------------------------------------------Умпорский--------------------------
#----------------------------------------------------Детали-------------------------------
#------------------------------------------------Нога---------------------------------
- type: Tag
  id: UmporMechValiantLeg

- type: entity
  parent: BaseRipleyPartItem
  id: UmporMechValiantLeg
  name: Нога ШБМ "Храбрец"
  description: Бронированная нога умпорской шагающей боевой машины "Храбрец".
  suffix: Умпорский
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi
    state: leg
  - type: Tag
    tags:
    - UmporMechValiantLeg
  - type: Stack
    stackType: UmporMechValiantLeg
    count: 1

- type: stack
  id: UmporMechValiantLeg
  name: Нога ШБМ "Храбрец"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi, state: leg }
  spawn: UmporMechValiantLeg
  maxCount: 1
#------------------------------------------------Рука---------------------------------
- type: Tag
  id: UmporMechValiantArm

- type: entity
  parent: BaseRipleyPartItem
  id: UmporMechValiantArm
  name: Левая рука ШБМ "Храбрец"
  description: Бронированный манипулятор-рука умпорской шагающей боевой машины "Храбрец".
  suffix: Умпорский
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi
    state: arm
  - type: Tag
    tags:
    - UmporMechValiantArm
  - type: Stack
    stackType: UmporMechValiantArm
    count: 1

- type: stack
  id: UmporMechValiantArm
  name: Левая рука ШБМ "Храбрец"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi, state: arm }
  spawn: UmporMechValiantArm
  maxCount: 1
#----------------------------------------------------Рецепты------------------------------
#------------------------------------------------Нога---------------------------------
- type: latheRecipe
  id: RecipeUmporMechValiantLeg
  materials:
    Steel: 4500
    PlumbumMaterial: 3000
  result: UmporMechValiantLeg
#------------------------------------------------Рука---------------------------------
- type: latheRecipe
  id: RecipeUmporMechValiantArm
  materials:
    Steel: 3000
    PlumbumMaterial: 1500
  result: UmporMechValiantArm
#--------------------------------------------Винтовка---------------------------------
- type: latheRecipe
  id: RecipeUmporMechGunRifle
  materials:
    Steel: 700
    PlumbumMaterial: 300
    Plastic: 200
    Wood: 1500
    DefChipCraftMechWeapon: 1
  result: UmporMechGunRifle
#---------------------------------------------Пулемёт---------------------------------
- type: latheRecipe
  id: RecipeUmporMechGunAuto
  materials:
    Steel: 800
    PlumbumMaterial: 1000
    Wood: 1500
    DefChipCraftMechWeapon: 1
  result: UmporMechGunAuto
#----------------------------------------------Обойма---------------------------------
- type: latheRecipe
  id: RecipeUmporMagazineMechRifle
  materials:
    Steel: 200
    PlumbumMaterial: 300
    Plastic: 200
  result: UmporMagazineMechRifle
#---------------------------------------------Магазин---------------------------------
- type: latheRecipe
  id: RecipeUmporMagazineMechAuto
  materials:
    Steel: 300
    PlumbumMaterial: 1000
  result: UmporMagazineMechAuto
#----------------------------------------------------Заводской техфаб---------------------
- type: entity
  id: DefUmporFactoryFab
  parent: BaseLathe
  name: Умпорский заводской фабрикатор
  suffix: Умпорский, Оборона
  description: Мобильная промышленная машина, способная производить боеприпасы, оружие и детали для умпорских боевых машин.
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/factoryfab.rsi
    layers:
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: umpor
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: SecurityTechFabCircuitboard
  - type: Lathe
    idleState: icon
    runningState: icon
    staticPacks:
    - PackDefUmporFactoryFab
  - type: MaterialStorage
    whitelist:
      tags:
        - Sheet
        - RawMaterial
        - Ingot
        - Plastid
        - DefChipCraftMechWeapon
  - type: Anchorable
    flags: Anchorable
#Пак
- type: latheRecipePack
  id: PackDefUmporFactoryFab
  recipes:
      - RecipeUmporMechValiantLeg
      - RecipeUmporMechValiantArm
      - RecipeUmporMechGunRifle
      - RecipeUmporMechGunAuto
      - RecipeUmporMagazineMechRifle
      - RecipeUmporMagazineMechAuto
#----------------------------------------------------Конструкции--------------------------
#---------------------------------------------Корпус----------------------------------
- type: Tag
  id: UmporMechValiantCorpus

- type: entity
  parent: BaseRipleyPartItem
  id: UmporMechValiantCorpus
  name: Корпус ШБМ "Храбрец"
  description: Бронированная кабина умпорской шагающей боевой машины "Храбрец".
  suffix: Умпорский
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi
    state: corpus
  - type: Tag
    tags:
    - UmporMechValiantCorpus
  - type: Construction
    graph: Valiant
    node: start
    defaultTarget: valiant
  - type: Machine
    board: UmporMechValiantCorpusCircuitboard
  - type: Anchorable

- type: entity
  id: UmporMechValiantCorpusCircuitboard
  parent: BaseMachineCircuitboard
  name: корпус ШБМ "Храбрец" (машинная плата)
  components:
    - type: MachineBoard
      prototype: UmporMechValiantCorpus
      stackRequirements:
        Steel: 60
        Plumbum: 30
        Cable: 30
#---------------------------------------------Силовая установка-----------------------
- type: Tag
  id: UmporMechValiantGenerator

- type: entity
  parent: BaseRipleyPartItem
  id: UmporMechValiantGenerator
  name: Силовая установка ШБМ "Храбрец"
  description: Система агрегатов, поставляющая электроснабжение и сигналы управления в разные части умпорской шагающей боевой машины "Храбрец".
  suffix: Умпорский
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi
    state: generator
  - type: Tag
    tags:
    - UmporMechValiantGenerator
  - type: Stack
    stackType: UmporMechValiantGenerator
    count: 1
  - type: Machine
    board: UmporMechValiantGeneratorCircuitboard
  - type: Construction
    graph: Machine
    node: machine
    containers:
    - machine_parts
    - machine_board
  - type: Anchorable

- type: stack
  id: UmporMechValiantGenerator
  name: Силовая установка ШБМ "Храбрец"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi, state: generator }
  spawn: UmporMechValiantGenerator
  maxCount: 1

- type: entity
  id: UmporMechValiantGeneratorCircuitboard
  parent: BaseMachineCircuitboard
  name: силовая установка ШБМ "Храбрец" (машинная плата)
  components:
    - type: MachineBoard
      prototype: UmporMechValiantGenerator
      stackRequirements:
        Steel: 30
        Plumbum: 30
        Cable: 60
#---------------------------------------------Движок---------------------------------
- type: Tag
  id: UmporMechValiantEngine

- type: entity
  parent: BaseRipleyPartItem
  id: UmporMechValiantEngine
  name: Двигатель ШБМ "Храбрец"
  description: Система агрегатов приводящая в движение конечности и системы умпорской шагающей боевой машины "Храбрец".
  suffix: Умпорский
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi
    state: engine
  - type: Tag
    tags:
    - UmporMechValiantEngine
  - type: Stack
    stackType: UmporMechValiantEngine
    count: 1
  - type: Machine
    board: UmporMechValiantEngineCircuitboard
  - type: Construction
    graph: Machine
    node: machine
    containers:
    - machine_parts
    - machine_board
  - type: Anchorable

- type: stack
  id: UmporMechValiantEngine
  name: Двигатель ШБМ "Храбрец"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi, state: engine }
  spawn: UmporMechValiantEngine
  maxCount: 1

- type: entity
  id: UmporMechValiantEngineCircuitboard
  parent: BaseMachineCircuitboard
  name: двигатель ШБМ "Храбрец" (машинная плата)
  components:
    - type: MachineBoard
      prototype: UmporMechValiantEngine
      stackRequirements:
        Steel: 60
        Cable: 30
#---------------------------------------------Промежуточные состояния---------------------------------
- type: entity
  parent: UmporMechValiantCorpus
  id: UmporMechValiantCpEn
  name: Корпус ШБМ "Храбрец" c двигателем
  description: Соединённые корпус и двигатель умпорской шагающей боевой машины "Храбрец".
  suffix: Умпорский
  components:
  - type: Sprite
    state: cp_en
  - type: Construction
    graph: Valiant
    node: cp_en
    defaultTarget: valiant
  - type: Stack
    stackType: UmporMechValiantEngine
    count: 1

- type: stack
  id: UmporMechValiantCpEn
  name: Корпус ШБМ "Храбрец" c двигателем
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi, state: cp_en }
  spawn: UmporMechValiantCpEn
  maxCount: 1

- type: entity
  parent: UmporMechValiantCorpus
  id: UmporMechValiantCpGe
  name: Корпус ШБМ "Храбрец" c генератором
  description: Соединённые корпус и генератор умпорской шагающей боевой машины "Храбрец".
  suffix: Умпорский
  components:
  - type: Sprite
    state: cp_ge
  - type: Construction
    graph: Valiant
    node: cp_ge
    defaultTarget: valiant
  - type: Stack
    stackType: UmporMechValiantCpGe
    count: 1

- type: stack
  id: UmporMechValiantCpGe
  name: Корпус ШБМ "Храбрец" c генератором
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi, state: cp_ge }
  spawn: UmporMechValiantCpGe
  maxCount: 1

- type: entity
  parent: UmporMechValiantCorpus
  id: UmporMechValiantCpGeEn
  name: Корпус ШБМ "Храбрец" c полной начинкой
  description: Соединённые корпус, генератор и двигатель умпорской шагающей боевой машины "Храбрец".
  suffix: Умпорский
  components:
  - type: Sprite
    state: cp_ge_en
  - type: Construction
    graph: Valiant
    node: cp_ge_en
    defaultTarget: valiant
  - type: Stack
    stackType: UmporMechValiantCpGeEn
    count: 1

- type: stack
  id: UmporMechValiantCpGeEn
  name: Корпус ШБМ "Храбрец" c полной начинкой
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi, state: cp_ge_en }
  spawn: UmporMechValiantCpGeEn
  maxCount: 1

- type: entity
  parent: UmporMechValiantCorpus
  id: UmporMechValiantCpGeEnAr
  name: Верхня часть ШБМ "Храбрец"
  description: Соединённые корпус с рукой, генератор и двигатель умпорской шагающей боевой машины "Храбрец".
  suffix: Умпорский
  components:
  - type: Sprite
    state: cp_ge_en_ar
  - type: Construction
    graph: Valiant
    node: cp_ge_en_ar
    defaultTarget: valiant
  - type: Stack
    stackType: UmporMechValiantCpGeEnAr
    count: 1

- type: stack
  id: UmporMechValiantCpGeEnAr
  name: Верхня часть ШБМ "Храбрец"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Umpor/mecha_parts.rsi, state: cp_ge_en_ar }
  spawn: UmporMechValiantCpGeEnAr
  maxCount: 1
#----------------------------------------------------Граф---------------------------------
- type: constructionGraph
  id: Valiant
  start: start
  graph:
    - node: start
      entity: UmporMechValiantCorpus
      edges:
        - to: cp_en
          steps:
            - material: UmporMechValiantEngine
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 15
            - tool: Welding
              doAfter: 5
        - to: cp_ge
          steps:
            - material: UmporMechValiantGenerator
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: Cable
              amount: 15
            - tool: Screwing
              doAfter: 5

    - node: cp_en
      entity: UmporMechValiantCpEn
      edges:
        - to: cp_ge_en
          steps:
            - material: UmporMechValiantGenerator
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: Cable
              amount: 15
            - tool: Screwing
              doAfter: 5
        - to: start
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: UmporMechValiantEngine
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 15
          steps:
            - tool: Cutting
              doAfter: 5
            - tool: Welding
              doAfter: 5

    - node: cp_ge
      entity: UmporMechValiantCpGe
      edges:
        - to: cp_ge_en
          steps:
            - material: UmporMechValiantEngine
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 15
            - tool: Welding
              doAfter: 5
        - to: start
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: UmporMechValiantGenerator
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 5
            - !type:SpawnPrototype
              prototype: CableApcStack1
              amount: 10
          steps:
            - tool: Cutting
              doAfter: 15
            - tool: Welding
              doAfter: 5

    - node: cp_ge_en
      entity: UmporMechValiantCpGeEn
      edges:
        - to: cp_ge_en_ar
          steps:
            - material: UmporMechValiantArm
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 10
            - tool: Welding
              doAfter: 5
        - to: start
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: UmporMechValiantGenerator
              amount: 1
            - !type:SpawnPrototype
              prototype: UmporMechValiantEngine
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 20
            - !type:SpawnPrototype
              prototype: CableApcStack1
              amount: 10
          steps:
            - tool: Cutting
              doAfter: 25
            - tool: Welding
              doAfter: 20

    - node: cp_ge_en_ar
      entity: UmporMechValiantCpGeEnAr
      edges:
        - to: valiant
          steps:
            - material: UmporMechValiantLeg
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: UmporMechValiantLeg
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
        - to: cp_ge_en_ar
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: UmporMechValiantArm
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 5
          steps:
            - tool: Cutting
              doAfter: 10
            - tool: Welding
              doAfter: 5

    - node: valiant
      entity: UmporMechValiant
      edges:
        - to: cp_ge_en_ar
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: UmporMechValiantLeg
              amount: 1
            - !type:SpawnPrototype
              prototype: UmporMechValiantLeg
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 10
          steps:
            - tool: Cutting
              doAfter: 20
            - tool: Welding
              doAfter: 10
#----------------------------------------------------------Миртан--------------------------
#----------------------------------------------------Детали-------------------------------
#------------------------------------------------Нога---------------------------------
- type: Tag
  id: MirtMechNibbleLeg

- type: entity
  parent: BaseRipleyPartItem
  id: MirtMechNibbleLeg
  name: Нога Шагателя "Грызь"
  description: Бронированная нога миртанийского шагателя "Грызь".
  suffix: Миртан
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/Mirt/mecha_parts.rsi
    state: leg
  - type: Tag
    tags:
    - MirtMechNibbleLeg
  - type: Stack
    stackType: MirtMechNibbleLeg
    count: 1

- type: stack
  id: MirtMechNibbleLeg
  name: Нога Шагателя "Грызь"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Mirt/mecha_parts.rsi, state: leg }
  spawn: MirtMechNibbleLeg
  maxCount: 1
#----------------------------------------------------Рецепты------------------------------
#------------------------------------------------Нога---------------------------------
- type: latheRecipe
  id: RecipeMirtMechNibbleLeg
  materials:
    Steel: 4500
    PlumbumMaterial: 3000
  result: MirtMechNibbleLeg
#------------------------------------------------Рука---------------------------------
- type: latheRecipe
  id: RecipeMirtMechGunArm
  materials:
    Steel: 3000
    PlumbumMaterial: 1500
    DefChipCraftMechWeapon: 1
  result: MirtMechGunArm
#--------------------------------------------Гранатомёт---------------------------------
- type: latheRecipe
  id: RecipeMirtMechGunGran
  materials:
    Steel: 1300
    PlumbumMaterial: 1000
    DefChipCraftMechWeapon: 1
  result: MirtMechGunGran
#---------------------------------------------Пулемёт---------------------------------
- type: latheRecipe
  id: RecipeMirtMechGunAuto
  materials:
    Steel: 1500
    PlumbumMaterial: 700
    DefChipCraftMechWeapon: 1
  result: MirtMechGunAuto
#---------------------------------------------Магазин---------------------------------
- type: latheRecipe
  id: RecipeMirtMagazineLMGMech
  materials:
    Steel: 1100
    PlumbumMaterial: 300
  result: MirtMagazineLMGMech
#----------------------------------------------------Заводской техфаб---------------------
- type: entity
  id: DefMirtFactoryFab
  parent: BaseLathe
  name: Миртанийский заводской фабрикатор
  suffix: Миртан, Оборона
  description: Мобильная промышленная машина, способная производить боеприпасы, оружие и детали для миртанских боевых машин.
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/factoryfab.rsi
    layers:
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: mirt
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: SecurityTechFabCircuitboard
  - type: Lathe
    idleState: icon
    runningState: icon
    staticPacks:
    - PackDefMirtFactoryFab
  - type: MaterialStorage
    whitelist:
      tags:
        - Sheet
        - RawMaterial
        - Ingot
        - Plastid
        - DefChipCraftMechWeapon
  - type: Anchorable
    flags: Anchorable
#Пак
- type: latheRecipePack
  id: PackDefMirtFactoryFab
  recipes:
      - RecipeMirtMechNibbleLeg
      - RecipeMirtMechGunArm
      - RecipeMirtMechGunAuto
      - RecipeMirtMechGunGran
      - RecipeMirtMagazineLMGMech
#----------------------------------------------------Конструкции--------------------------
#---------------------------------------------Корпус----------------------------------
- type: Tag
  id: MirtMechNibbleCorpus

- type: entity
  parent: BaseRipleyPartItem
  id: MirtMechNibbleCorpus
  name: Корпус Шагателя "Грызь"
  description: Бронированная кабина миртанийского шагателя "Грызь".
  suffix: Миртан
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/Mirt/mecha_parts.rsi
    state: corpus
  - type: Tag
    tags:
    - MirtMechNibbleCorpus
  - type: Construction
    graph: Nibble
    node: start
    defaultTarget: nibble
  - type: Machine
    board: MirtMechNibbleCorpusCircuitboard
  - type: Anchorable

- type: entity
  id: MirtMechNibbleCorpusCircuitboard
  parent: BaseMachineCircuitboard
  name: корпус Шагателя "Грызь" (машинная плата)
  components:
    - type: MachineBoard
      prototype: MirtMechNibbleCorpus
      stackRequirements:
        Steel: 60
        Plumbum: 30
        Cable: 30
#---------------------------------------------Силовая установка-----------------------
- type: Tag
  id: MirtMechNibbleGenerator

- type: entity
  parent: BaseRipleyPartItem
  id: MirtMechNibbleGenerator
  name: Силовая установка Шагателя "Грызь"
  description: Система агрегатов, поставляющая электроснабжение и сигналы управления в разные части миртанийского шагателя "Грызь".
  suffix: Миртан
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/Mirt/mecha_parts.rsi
    state: generator
  - type: Tag
    tags:
    - MirtMechNibbleGenerator
  - type: Stack
    stackType: MirtMechNibbleGenerator
    count: 1
  - type: Machine
    board: MirtMechNibbleGeneratorCircuitboard
  - type: Construction
    graph: Machine
    node: machine
    containers:
    - machine_parts
    - machine_board
  - type: Anchorable

- type: stack
  id: MirtMechNibbleGenerator
  name: Силовая установка Шагателя "Грызь"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Mirt/mecha_parts.rsi, state: generator }
  spawn: MirtMechNibbleGenerator
  maxCount: 1

- type: entity
  id: MirtMechNibbleGeneratorCircuitboard
  parent: BaseMachineCircuitboard
  name: силовая установка Шагателя "Грызь" (машинная плата)
  components:
    - type: MachineBoard
      prototype: MirtMechNibbleGenerator
      stackRequirements:
        Steel: 30
        Plumbum: 30
        Cable: 60
#---------------------------------------------Движок---------------------------------
- type: Tag
  id: MirtMechNibbleEngine

- type: entity
  parent: BaseRipleyPartItem
  id: MirtMechNibbleEngine
  name: Двигатель ШБМ "Грызь"
  description: Система агрегатов приводящая в движение конечности и системы умпорской шагающей боевой машины "Грызь".
  suffix: Миртан
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/Mirt/mecha_parts.rsi
    state: engine
  - type: Tag
    tags:
    - MirtMechNibbleEngine
  - type: Stack
    stackType: MirtMechNibbleEngine
    count: 1
  - type: Machine
    board: MirtMechNibbleEngineCircuitboard
  - type: Construction
    graph: Machine
    node: machine
    containers:
    - machine_parts
    - machine_board
  - type: Anchorable

- type: stack
  id: MirtMechNibbleEngine
  name: Двигатель Шагателя "Грызь"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Mirt/mecha_parts.rsi, state: engine }
  spawn: MirtMechNibbleEngine
  maxCount: 1

- type: entity
  id: MirtMechNibbleEngineCircuitboard
  parent: BaseMachineCircuitboard
  name: двигатель Шагателя "Грызь" (машинная плата)
  components:
    - type: MachineBoard
      prototype: MirtMechNibbleEngine
      stackRequirements:
        Steel: 60
        Cable: 30
#---------------------------------------------Промежуточные состояния---------------------------------
- type: entity
  parent: MirtMechNibbleCorpus
  id: MirtMechNibbleCpEn
  name: Корпус Шагателя "Грызь" c двигателем
  description: Соединённые корпус и двигатель миртанийского шагателя "Грызь.
  suffix: Миртан
  components:
  - type: Sprite
    state: cp_en
  - type: Construction
    graph: Nibble
    node: cp_en
    defaultTarget: nibble
  - type: Stack
    stackType: MirtMechNibbleEngine
    count: 1

- type: stack
  id: MirtMechNibbleCpEn
  name: Корпус Шагателя "Грызь" c двигателем
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Mirt/mecha_parts.rsi, state: cp_en }
  spawn: MirtMechNibbleCpEn
  maxCount: 1

- type: entity
  parent: MirtMechNibbleCorpus
  id: MirtMechNibbleCpGe
  name: Корпус Шагателя "Грызь" c генератором
  description: Соединённые корпус и генератор миртанийского шагателя "Грызь.
  suffix: Миртан
  components:
  - type: Sprite
    state: cp_ge
  - type: Construction
    graph: Nibble
    node: cp_ge
    defaultTarget: nibble
  - type: Stack
    stackType: MirtMechNibbleCpGe
    count: 1

- type: stack
  id: MirtMechNibbleCpGe
  name: Корпус Шагателя "Грызь" c генератором
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Mirt/mecha_parts.rsi, state: cp_ge }
  spawn: MirtMechNibbleCpGe
  maxCount: 1

- type: entity
  parent: MirtMechNibbleCorpus
  id: MirtMechNibbleCpGeEn
  name: Корпус Шагателя "Грызь" c полной начинкой
  description: Соединённые корпус, генератор и двигатель миртанийского шагателя "Грызь.
  suffix: Миртан
  components:
  - type: Sprite
    state: cp_ge_en
  - type: Construction
    graph: Nibble
    node: cp_ge_en
    defaultTarget: nibble
  - type: Stack
    stackType: MirtMechNibbleCpGeEn
    count: 1

- type: stack
  id: MirtMechNibbleCpGeEn
  name: Корпус Шагателя "Грызь" c полной начинкой
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/Mirt/mecha_parts.rsi, state: cp_ge_en }
  spawn: MirtMechNibbleCpGeEn
  maxCount: 1
#----------------------------------------------------Граф---------------------------------
- type: constructionGraph
  id: Nibble
  start: start
  graph:
    - node: start
      entity: MirtMechNibbleCorpus
      edges:
        - to: cp_en
          steps:
            - material: MirtMechNibbleEngine
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 15
            - tool: Welding
              doAfter: 5
        - to: cp_ge
          steps:
            - material: MirtMechNibbleGenerator
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: Cable
              amount: 15
            - tool: Screwing
              doAfter: 5

    - node: cp_en
      entity: MirtMechNibbleCpEn
      edges:
        - to: cp_ge_en
          steps:
            - material: MirtMechNibbleGenerator
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: Cable
              amount: 15
            - tool: Screwing
              doAfter: 5
        - to: start
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: MirtMechNibbleEngine
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 15
          steps:
            - tool: Cutting
              doAfter: 5
            - tool: Welding
              doAfter: 5

    - node: cp_ge
      entity: MirtMechNibbleCpGe
      edges:
        - to: cp_ge_en
          steps:
            - material: MirtMechNibbleEngine
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 15
            - tool: Welding
              doAfter: 5
        - to: start
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: MirtMechNibbleGenerator
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 5
            - !type:SpawnPrototype
              prototype: CableApcStack1
              amount: 10
          steps:
            - tool: Cutting
              doAfter: 15
            - tool: Welding
              doAfter: 5

    - node: cp_ge_en
      entity: MirtMechNibbleCpGeEn
      edges:
        - to: nibble
          steps:
            - material: MirtMechNibbleLeg
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: MirtMechNibbleLeg
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
        - to: start
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: MirtMechNibbleGenerator
              amount: 1
            - !type:SpawnPrototype
              prototype: MirtMechNibbleEngine
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 20
            - !type:SpawnPrototype
              prototype: CableApcStack1
              amount: 10
          steps:
            - tool: Cutting
              doAfter: 25
            - tool: Welding
              doAfter: 20

    - node: nibble
      entity: MirtMechNibble
      edges:
        - to: cp_ge_en
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: MirtMechNibbleLeg
              amount: 1
            - !type:SpawnPrototype
              prototype: MirtMechNibbleLeg
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 10
          steps:
            - tool: Cutting
              doAfter: 20
            - tool: Welding
              doAfter: 10
#----------------------------------------------------------Конгломерат--------------------------
#----------------------------------------------------Детали-------------------------------
#------------------------------------------------Нога---------------------------------
- type: Tag
  id: CDCMechScorpioLeg

- type: entity
  parent: BaseRipleyPartItem
  id: CDCMechScorpioLeg
  name: Нога УБР "Скорпион"
  description: Бронированная нога конгломератского УБР "Скорпион".
  suffix: Конгломерат
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/CDC/mecha_parts.rsi
    state: leg
  - type: Tag
    tags:
    - CDCMechScorpioLeg
  - type: Stack
    stackType: CDCMechScorpioLeg
    count: 1

- type: stack
  id: CDCMechScorpioLeg
  name: Нога УБР "Скорпион"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/CDC/mecha_parts.rsi, state: leg }
  spawn: CDCMechScorpioLeg
  maxCount: 1
#------------------------------------------------Хвост---------------------------------
- type: Tag
  id: CDCMechScorpioTeil

- type: entity
  parent: BaseRipleyPartItem
  id: CDCMechScorpioTeil
  name: Хвост УБР "Скорпион"
  description: Подвижный хвост с крепление для оружия конгломератского УБР "Скорпион".
  suffix: Конгломерат
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/CDC/mecha_parts.rsi
    state: teil
  - type: Tag
    tags:
    - CDCMechScorpioTeil
  - type: Stack
    stackType: CDCMechScorpioTeil
    count: 1

- type: stack
  id: CDCMechScorpioTeil
  name: Хвост УБР "Скорпион"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/CDC/mecha_parts.rsi, state: teil }
  spawn: CDCMechScorpioTeil
  maxCount: 1
#----------------------------------------------------Рецепты------------------------------
#------------------------------------------------Нога---------------------------------
- type: latheRecipe
  id: RecipeCDCMechScorpioLeg
  materials:
    Steel: 4500
    PlumbumMaterial: 3000
  result: CDCMechScorpioLeg
#------------------------------------------------Хвост---------------------------------
- type: latheRecipe
  id: RecipeCDCMechScorpioTeil
  materials:
    Steel: 4500
    PlumbumMaterial: 3000
  result: CDCMechScorpioTeil
#--------------------------------------------Орудие---------------------------------
- type: latheRecipe
  id: RecipeCDCMechGunRifle
  materials:
    Steel: 1200
    Plasma: 200
    Plastic: 200
    DefChipCraftMechWeapon: 1
  result: CDCMechGunRifle
#---------------------------------------------Пулемёт---------------------------------
- type: latheRecipe
  id: RecipeCDCMechGunAuto
  materials:
    Steel: 1300
    Plasma: 800
    Plastic: 200
    DefChipCraftMechWeapon: 1
  result: CDCMechGunAuto
#---------------------------------------------Магазин орудие---------------------------------
- type: latheRecipe
  id: RecipeCDCMagazineRifleStdMech
  materials:
    Steel: 500
    Plasma: 100
  result: CDCMagazineRifleStdMech
#---------------------------------------------Магазин пулемёт---------------------------------
- type: latheRecipe
  id: RecipeCDCMagazineAutomatStdMech
  materials:
    Steel: 500
    Plasma: 700
  result: CDCMagazineAutomatStdMech
#----------------------------------------------------Заводской техфаб---------------------
- type: entity
  id: DefCDCFactoryFab
  parent: BaseLathe
  name: Конгломератский заводской фабрикатор
  suffix: Конгломерат, Оборона
  description: Мобильная промышленная машина, способная производить боеприпасы, оружие и детали для конгломератских боевых машин.
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/factoryfab.rsi
    layers:
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: cdc
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: SecurityTechFabCircuitboard
  - type: Lathe
    idleState: icon
    runningState: icon
    staticPacks:
    - PackDefCDCFactoryFab

  - type: MaterialStorage
    whitelist:
      tags:
        - Sheet
        - RawMaterial
        - Ingot
        - Plastid
        - DefChipCraftMechWeapon
  - type: Anchorable
    flags: Anchorable
#Пак
- type: latheRecipePack
  id: PackDefCDCFactoryFab
  recipes:
      - RecipeCDCMechScorpioLeg
      - RecipeCDCMechScorpioTeil
      - RecipeCDCMechGunRifle
      - RecipeCDCMechGunAuto
      - RecipeCDCMagazineRifleStdMech
      - RecipeCDCMagazineAutomatStdMech
#----------------------------------------------------Конструкции--------------------------
#---------------------------------------------Корпус----------------------------------
- type: Tag
  id: CDCMechScorpioCorpus

- type: entity
  parent: BaseRipleyPartItem
  id: CDCMechScorpioCorpus
  name: Корпус УБР "Скорпион"
  description: Бронированная кабина конгломератского управляемого боевого робота "Скорпион".
  suffix: Конгломерат
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/CDC/mecha_parts.rsi
    state: corpus
  - type: Tag
    tags:
    - CDCMechScorpioCorpus
  - type: Construction
    graph: Scorpio
    node: start
    defaultTarget: scorpio
  - type: Machine
    board: CDCMechScorpioCorpusCircuitboard
  - type: Anchorable

- type: entity
  id: CDCMechScorpioCorpusCircuitboard
  parent: BaseMachineCircuitboard
  name: корпус УБР "Скорпион" (машинная плата)
  components:
    - type: MachineBoard
      prototype: CDCMechScorpioCorpus
      stackRequirements:
        Steel: 60
        Plumbum: 30
        Cable: 30
#---------------------------------------------Силовая установка-----------------------
- type: Tag
  id: CDCMechScorpioGenerator

- type: entity
  parent: BaseRipleyPartItem
  id: CDCMechScorpioGenerator
  name: Силовая установка УБР "Скорпион"
  description: Система агрегатов, поставляющая электроснабжение и сигналы управления в разные части конгломератского управляемого боевого робота "Скорпион".
  suffix: Конгломерат
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/CDC/mecha_parts.rsi
    state: generator
  - type: Tag
    tags:
    - CDCMechScorpioGenerator
  - type: Stack
    stackType: CDCMechScorpioGenerator
    count: 1
  - type: Machine
    board: CDCMechScorpioGeneratorCircuitboard
  - type: Construction
    graph: Machine
    node: machine
    containers:
    - machine_parts
    - machine_board
  - type: Anchorable

- type: stack
  id: CDCMechScorpioGenerator
  name: Силовая установка УБР "Скорпион"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/CDC/mecha_parts.rsi, state: generator }
  spawn: CDCMechScorpioGenerator
  maxCount: 1

- type: entity
  id: CDCMechScorpioGeneratorCircuitboard
  parent: BaseMachineCircuitboard
  name: силовая установка УБР "Скорпион" (машинная плата)
  components:
    - type: MachineBoard
      prototype: CDCMechScorpioGenerator
      stackRequirements:
        Steel: 30
        Plumbum: 30
        Cable: 60
#---------------------------------------------Промежуточные состояния-----------------------------
- type: entity
  parent: CDCMechScorpioCorpus
  id: CDCMechScorpioCpGe
  name: Корпус УБР "Скорпион" c генератором
  description: Соединённые корпус и генератор конгломератского УБР "Скорпион".
  suffix: Конгломерат
  components:
  - type: Sprite
    state: cp_ge
  - type: Construction
    graph: Scorpio
    node: cp_ge
    defaultTarget: scorpio
  - type: Stack
    stackType: CDCMechScorpioCpGe
    count: 1

- type: stack
  id: CDCMechScorpioCpGe
  name: Корпус УБР "Скорпион" c генератором
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/CDC/mecha_parts.rsi, state: cp_ge }
  spawn: CDCMechScorpioCpGe
  maxCount: 1

- type: entity
  parent: CDCMechScorpioCorpus
  id: CDCMechScorpioCpGeTl
  name: Корпус УБР "Скорпион" c полной начинкой
  description: Соединённые корпус, генератор и двигатель конгломератского УБР "Скорпион".
  suffix: Конгломерат
  components:
  - type: Sprite
    state: cp_ge_tl
  - type: Construction
    graph: Scorpio
    node: cp_ge_tl
    defaultTarget: scorpio
  - type: Stack
    stackType: CDCMechScorpioCpGeTl
    count: 1

- type: stack
  id: CDCMechScorpioCpGeTl
  name: Корпус УБР "Скорпион" c полной начинкой
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/CDC/mecha_parts.rsi, state: cp_ge_tl }
  spawn: CDCMechScorpioCpGeTl
  maxCount: 1
#----------------------------------------------------Граф---------------------------------
- type: constructionGraph
  id: Scorpio
  start: start
  graph:
    - node: start
      entity: CDCMechScorpioCorpus
      edges:
        - to: cp_ge
          steps:
            - material: CDCMechScorpioGenerator
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: Cable
              amount: 15
            - tool: Screwing
              doAfter: 5

    - node: cp_ge
      entity: CDCMechScorpioCpGe
      edges:
        - to: cp_ge_tl
          steps:
            - material: CDCMechScorpioTeil
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 15
            - tool: Welding
              doAfter: 5
        - to: start
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: CDCMechScorpioGenerator
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 5
            - !type:SpawnPrototype
              prototype: CableApcStack1
              amount: 10
          steps:
            - tool: Cutting
              doAfter: 15
            - tool: Welding
              doAfter: 5

    - node: cp_ge_tl
      entity: CDCMechScorpioCpGeTl
      edges:
        - to: scorpio
          steps:
            - material: CDCMechScorpioLeg
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: CDCMechScorpioLeg
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: CDCMechScorpioLeg
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: CDCMechScorpioLeg
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: CDCMechScorpioLeg
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: CDCMechScorpioLeg
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
        - to: cp_ge
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: CDCMechScorpioTeil
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 15
          steps:
            - tool: Cutting
              doAfter: 25
            - tool: Welding
              doAfter: 20

    - node: scorpio
      entity: CDCMechScorpio
      edges:
        - to: cp_ge_tl
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: CDCMechScorpioLeg
              amount: 1
            - !type:SpawnPrototype
              prototype: CDCMechScorpioLeg
              amount: 1
            - !type:SpawnPrototype
              prototype: CDCMechScorpioLeg
              amount: 1
            - !type:SpawnPrototype
              prototype: CDCMechScorpioLeg
              amount: 1
            - !type:SpawnPrototype
              prototype: CDCMechScorpioLeg
              amount: 1
            - !type:SpawnPrototype
              prototype: CDCMechScorpioLeg
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 10
          steps:
            - tool: Cutting
              doAfter: 20
            - tool: Welding
              doAfter: 10
#----------------------------------------------------------СССП--------------------------
#----------------------------------------------------Детали-------------------------------
#------------------------------------------------Нога---------------------------------
- type: Tag
  id: USSPMechSKLeg

- type: entity
  parent: BaseRipleyPartItem
  id: USSPMechSKLeg
  name: Нога ШТ "СК-4"
  description: Бронированная нога советского шагающего танка "СК-4".
  suffix: СССП
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/USSP/mecha_parts.rsi
    state: leg
  - type: Tag
    tags:
    - USSPMechSKLeg
  - type: Stack
    stackType: USSPMechSKLeg
    count: 1

- type: stack
  id: USSPMechSKLeg
  name: Нога ШТ "СК-4"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/USSP/mecha_parts.rsi, state: leg }
  spawn: USSPMechSKLeg
  maxCount: 1
#------------------------------------------------Держатель---------------------------------
- type: Tag
  id: USSPMechSKHolder

- type: entity
  parent: BaseRipleyPartItem
  id: USSPMechSKHolder
  name: Держатель ШТ "СК-4"
  description: Держатель советского шагающего танка "СК-4".
  suffix: СССП
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/USSP/mecha_parts.rsi
    state: holder
  - type: Tag
    tags:
    - USSPMechSKHolder
  - type: Stack
    stackType: USSPMechSKHolder
    count: 1

- type: stack
  id: USSPMechSKHolder
  name: Держатель ШТ "СК-4"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/USSP/mecha_parts.rsi, state: holder }
  spawn: USSPMechSKHolder
  maxCount: 1
#------------------------------------------------Щит---------------------------------
- type: Tag
  id: USSPMechSKShield

- type: entity
  parent: BaseRipleyPartItem
  id: USSPMechSKShield
  name: Щит ШТ "СК-4"
  description: Щит советского шагающего танка "СК-4".
  suffix: СССП
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/USSP/mecha_parts.rsi
    state: shield
  - type: Tag
    tags:
    - USSPMechSKShield
  - type: Stack
    stackType: USSPMechSKShield
    count: 1

- type: stack
  id: USSPMechSKShield
  name: Щит ШТ "СК-4"
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/USSP/mecha_parts.rsi, state: shield }
  spawn: USSPMechSKShield
  maxCount: 1
#----------------------------------------------------Рецепты------------------------------
#------------------------------------------------Нога---------------------------------
- type: latheRecipe
  id: RecipeUSSPMechSKLeg
  materials:
    Steel: 4000
    PlumbumMaterial: 3000
  result: USSPMechSKLeg
#------------------------------------------------Держатель---------------------------------
- type: latheRecipe
  id: RecipeUSSPMechSKHolder
  materials:
    Steel: 3000
    PlumbumMaterial: 1000
  result: USSPMechSKHolder
#------------------------------------------------Щит---------------------------------
- type: latheRecipe
  id: RecipeUSSPMechSKShield
  materials:
    Steel: 5000
    PlumbumMaterial: 500
  result: USSPMechSKShield
#--------------------------------------------Притяжитель---------------------------------
- type: latheRecipe
  id: RecipeUSSPMechGunAttraction
  materials:
    Steel: 10000
    PlumbumMaterial: 700
    Plasma: 800
    DefChipCraftMechWeapon: 1
  result: USSPMechGunAttraction
#---------------------------------------------Излучатель---------------------------------
- type: latheRecipe
  id: RecipeUSSPMechGunRadiator
  materials:
    Steel: 15000
    PlumbumMaterial: 700
    Plasma: 800
    DefChipCraftMechWeapon: 1
  result: USSPMechGunRadiator
#---------------------------------------------Магазин притяжителя---------------------------------
- type: latheRecipe
  id: RecipeUSSPBatterySingMech
  materials:
    PlumbumMaterial: 500
    Plasma: 600
  result: USSPBatterySingMech
#---------------------------------------------Магазин излучателя---------------------------------
- type: latheRecipe
  id: RecipeUSSPBatteryRadioMech
  materials:
    PlumbumMaterial: 500
    Plasma: 600
  result: USSPBatteryRadioMech
#--------------------------------------------Гравицапа---------------------------------
- type: latheRecipe
  id: RecipeUSSPMechGunTetherGun
  materials:
    Steel: 8000
    PlumbumMaterial: 300
    Plasma: 200
    DefChipCraftMechWeapon: 1
  result: USSPMechGunTetherGun
#----------------------------------------------------Заводской техфаб---------------------
- type: entity
  id: DefUSSPFactoryFab
  parent: BaseLathe
  name: Советский заводской фабрикатор
  suffix: СССП, Оборона
  description: Мобильная промышленная машина, способная производить боеприпасы, оружие и детали для советских боевых машин.
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/factoryfab.rsi
    layers:
    - state: icon
      map: ["enum.LatheVisualLayers.IsRunning"]
    - state: ussp
    - state: unlit
      shader: unshaded
      map: ["enum.PowerDeviceVisualLayers.Powered"]
    - state: inserting
      map: ["enum.MaterialStorageVisualLayers.Inserting"]
    - state: panel
      map: ["enum.WiresVisualLayers.MaintenancePanel"]
  - type: Machine
    board: SecurityTechFabCircuitboard
  - type: Lathe
    idleState: icon
    runningState: icon
    staticPacks:
    - PackDefUSSPFactoryFab
  - type: MaterialStorage
    whitelist:
      tags:
        - Sheet
        - RawMaterial
        - Ingot
        - Plastid
        - DefChipCraftMechWeapon
  - type: Anchorable
    flags: Anchorable
#пак
- type: latheRecipePack
  id: PackDefUSSPFactoryFab
  recipes:
      - RecipeUSSPMechSKLeg
      - RecipeUSSPMechSKHolder
      - RecipeUSSPMechSKShield
      - RecipeUSSPMechGunAttraction
      - RecipeUSSPMechGunRadiator
      - RecipeUSSPBatterySingMech
      - RecipeUSSPBatteryRadioMech
      - RecipeUSSPMechGunTetherGun
#----------------------------------------------------Конструкции--------------------------
#---------------------------------------------Корпус----------------------------------
- type: Tag
  id: USSPMechSKCorpus

- type: entity
  parent: BaseRipleyPartItem
  id: USSPMechSKCorpus
  name: Корпус ШТ "СК-4"
  description: Бронированная кабина советского шагающего танка "Слава Комунизма" 4ой модели.
  suffix: Конгломерат
  components:
  - type: Sprite
    sprite: Victoria/DefenseMode/Mechs/USSP/mecha_parts.rsi
    state: corpus
  - type: Tag
    tags:
    - USSPMechSKCorpus
  - type: Construction
    graph: SK
    node: start
    defaultTarget: sk
  - type: Machine
    board: USSPMechSKCorpusCircuitboard
  - type: Anchorable

- type: entity
  id: USSPMechSKCorpusCircuitboard
  parent: BaseMachineCircuitboard
  name: корпус ШТ "СК-4" (машинная плата)
  components:
    - type: MachineBoard
      prototype: USSPMechSKCorpus
      stackRequirements:
        Steel: 60
        Plumbum: 30
        Cable: 30
#---------------------------------------------Промежуточные состояния-----------------------------
- type: entity
  parent: USSPMechSKCorpus
  id: USSPMechSKCpHol
  name: Корпус ШТ "СК-4" c держателями
  description: Соединённые корпус и держатели советского шагающего танка "СК-4".
  suffix: Конгломерат
  components:
  - type: Sprite
    state: cp_hol
  - type: Construction
    graph: SK
    node: cp_hol
    defaultTarget: sk
  - type: Stack
    stackType: USSPMechSKCpHol
    count: 1

- type: stack
  id: USSPMechSKCpHol
  name: Корпус ШТ "СК-4" c держателями
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/USSP/mecha_parts.rsi, state: cp_hol }
  spawn: USSPMechSKCpHol
  maxCount: 1

- type: entity
  parent: USSPMechSKCorpus
  id: USSPMechSKCpHolSh
  name: Корпус ШТ "СК-4" c держателями и щитом
  description: Соединённые корпус, держатели и щит советского шагающего танка "СК-4".
  suffix: Конгломерат
  components:
  - type: Sprite
    state: cp_hol_sh
  - type: Construction
    graph: SK
    node: cp_hol_sh
    defaultTarget: sk
  - type: Stack
    stackType: USSPMechSKCpHolSh
    count: 1

- type: stack
  id: USSPMechSKCpHolSh
  name: Корпус ШТ "СК-4" c держателями и щитом
  icon: { sprite: /Textures/Victoria/DefenseMode/Mechs/USSP/mecha_parts.rsi, state: cp_hol_sh }
  spawn: USSPMechSKCpHolSh
  maxCount: 1
#----------------------------------------------------Граф---------------------------------
- type: constructionGraph
  id: SK
  start: start
  graph:
    - node: start
      entity: USSPMechSKCorpus
      edges:
        - to: cp_hol
          steps:
            - material: USSPMechSKHolder
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: Cable
              amount: 15
            - tool: Screwing
              doAfter: 5
            - material: USSPMechSKHolder
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: Cable
              amount: 15
            - tool: Screwing
              doAfter: 5
            - material: USSPMechSKHolder
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: Cable
              amount: 15
            - tool: Screwing
              doAfter: 5

    - node: cp_hol
      entity: USSPMechSKCpHol
      edges:
        - to: cp_hol_sh
          steps:
            - material: USSPMechSKShield
              amount: 1
            - tool: Screwing
              doAfter: 5
            - material: Steel
              amount: 15
            - tool: Welding
              doAfter: 15
        - to: start
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: USSPMechSKHolder
              amount: 1
            - !type:SpawnPrototype
              prototype: USSPMechSKHolder
              amount: 1
            - !type:SpawnPrototype
              prototype: USSPMechSKHolder
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 15
            - !type:SpawnPrototype
              prototype: CableApcStack1
              amount: 30
          steps:
            - tool: Cutting
              doAfter: 15
            - tool: Welding
              doAfter: 20

    - node: cp_hol_sh
      entity: USSPMechSKCpHolSh
      edges:
        - to: sk
          steps:
            - material: USSPMechSKLeg
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
            - material: USSPMechSKLeg
              amount: 1
            - tool: Screwing
              doAfter: 10
            - material: Steel
              amount: 5
            - tool: Welding
              doAfter: 5
        - to: cp_hol
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: USSPMechSKShield
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 15
          steps:
            - tool: Cutting
              doAfter: 25
            - tool: Welding
              doAfter: 20

    - node: sk
      entity: USSPMechSK
      edges:
        - to: cp_hol_sh
          completed:
            - !type:AdminLog
              message: "детали рассоединились"
            - !type:SpawnPrototype
              prototype: USSPMechSKLeg
              amount: 1
            - !type:SpawnPrototype
              prototype: USSPMechSKLeg
              amount: 1
            - !type:SpawnPrototype
              prototype: SheetSteel1
              amount: 10
          steps:
            - tool: Cutting
              doAfter: 20
            - tool: Welding
              doAfter: 10
